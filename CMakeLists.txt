cmake_minimum_required(VERSION 2.8)

option(GAINPUT_STATICLIB "Build Gainput static lib" ON)
option(GAINPUT_DYNAMICLIB "Build Gainput dynamic lib" ON)
option(GAINPUT_SAMPLES "Build Samples for Gainput" ON)
option(GAINPUT_TESTS "Build Tests for Gainput" ON)

if (MSVC)
    add_definitions("/D_CRT_SECURE_NO_WARNINGS")
endif()

if(!WIN32)
	set(CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} -Wall -pedantic -Wextra")
else()
	set(XINPUT "Xinput9_1_0")
	if ( ${CMAKE_SYSTEM_VERSION} LESS 6.1 )
		set(XINPUT, "xinput")
	endif()
endif()

if(ANDROID)
	include(extern/cmake/AndroidNdkModules.cmake)
	android_ndk_import_module_native_app_glue()
endif()

add_subdirectory(lib)
if(GAINPUT_SAMPLES)
    add_subdirectory(samples)
endif()
if (GAINPUT_TESTS)
    add_subdirectory(test)
endif()
